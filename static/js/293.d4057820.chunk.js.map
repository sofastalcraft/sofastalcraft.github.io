{"version":3,"file":"static/js/293.d4057820.chunk.js","mappings":"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","sources":["webpack://sofa-web/./src/components/ApplyForm/ApplyForm.module.css?83b2","components/ApplyForm/ApplyForm.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"gridContainer\":\"ApplyForm_gridContainer__8n0Eg\",\"formSection\":\"ApplyForm_formSection__s4r8C\",\"formContainer\":\"ApplyForm_formContainer__hhIwz\",\"infoSection\":\"ApplyForm_infoSection__PjFim\",\"infoBlock\":\"ApplyForm_infoBlock__liyve\"};","import React, { useState, useEffect } from 'react';\r\nimport styles from './ApplyForm.module.css';\r\nimport '../../App.css';\r\n\r\nexport default function ApplyForm({ toastRef }) {\r\n  const [formData, setFormData] = useState({\r\n    characterName: '',\r\n    discordUsername: '',\r\n    affiliation: '',\r\n  });\r\n  const [cooldown, setCooldown] = useState(0);\r\n  const [isButtonDisabled, setIsButtonDisabled] = useState(false);\r\n  const cooldownDuration = 60;\r\n\r\n  useEffect(() => {\r\n    const lastSubmissionTime = localStorage.getItem('lastSubmissionTime');\r\n    if (lastSubmissionTime) {\r\n      const timePassed = Math.floor((Date.now() - lastSubmissionTime) / 1000);\r\n      if (timePassed < cooldownDuration) {\r\n        setCooldown(cooldownDuration - timePassed);\r\n        setIsButtonDisabled(false);\r\n      }\r\n    }\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    if (cooldown > 0) {\r\n      const timer = setInterval(() => {\r\n        setCooldown(prev => prev - 1);\r\n      }, 1000);\r\n      return () => clearInterval(timer);\r\n    } else {\r\n      setIsButtonDisabled(false);\r\n    }\r\n  }, [cooldown]);\r\n\r\n  const showSecondaryToast = message => {\r\n    toastRef.current.show({\r\n      severity: 'secondary',\r\n      // summary: 'Success!',\r\n      detail: message,\r\n      life: 3000,\r\n    });\r\n  };\r\n\r\n  const handleChange = e => {\r\n    const { name, value } = e.target;\r\n    setFormData(prevState => ({\r\n      ...prevState,\r\n      [name]: value,\r\n    }));\r\n  };\r\n\r\n  const handleSubmit = async e => {\r\n    e.preventDefault();\r\n\r\n    if (cooldown > 0) {\r\n      showSecondaryToast(\r\n        `You can submit the form again after ${cooldown} seconds.`,\r\n      );\r\n      return;\r\n    }\r\n\r\n    const webhookURL =\r\n      'https://discord.com/api/webhooks/1267630468929421456/YBvfH49ddpv__pBZAHdqsqq2ESNEKA0r90wbvsXCS1MVump8A4ZTrNOpWbdjXhrQDGny';\r\n\r\n    const embed = {\r\n      title: 'New Clan Application',\r\n      description: `Someone applied to join the clan with the following details:`,\r\n      fields: [\r\n        { name: 'Character Name', value: formData.characterName || 'N/A' },\r\n        { name: 'Discord Username', value: formData.discordUsername || 'N/A' },\r\n        { name: 'Affiliation', value: formData.affiliation || 'N/A' },\r\n      ],\r\n      color: 3447003,\r\n      timestamp: new Date(),\r\n    };\r\n\r\n    await fetch(webhookURL, {\r\n      method: 'POST',\r\n      headers: { 'Content-Type': 'application/json' },\r\n      body: JSON.stringify({ embeds: [embed] }),\r\n    });\r\n\r\n    localStorage.setItem('lastSubmissionTime', Date.now());\r\n    setCooldown(cooldownDuration);\r\n    setIsButtonDisabled(true);\r\n\r\n    showSecondaryToast(\r\n      'Your application has been submitted, we will contact you shortly!',\r\n    );\r\n\r\n    setFormData({ characterName: '', discordUsername: '', affiliation: '' });\r\n  };\r\n\r\n  return (\r\n    <>\r\n      <div style={{ marginTop: '140px' }} />\r\n      <div className='container'>\r\n        <h3 className='heading' style={{ marginBottom: '40px' }}>\r\n          JOIN US\r\n        </h3>\r\n        <div style={{ marginTop: '20px' }} />\r\n        <div className={styles.gridContainer}>\r\n          <div className={styles.formSection}>\r\n            <form onSubmit={handleSubmit} className={styles.formContainer}>\r\n              <input\r\n                type='text'\r\n                name='characterName'\r\n                value={formData.characterName}\r\n                onChange={handleChange}\r\n                className='input-field'\r\n                placeholder='Character name'\r\n                required\r\n              />\r\n\r\n              <input\r\n                type='text'\r\n                name='discordUsername'\r\n                value={formData.discordUsername}\r\n                onChange={handleChange}\r\n                className='input-field'\r\n                placeholder='Discord username'\r\n                required\r\n              />\r\n\r\n              <input\r\n                type='text'\r\n                name='affiliation'\r\n                value={formData.affiliation}\r\n                onChange={handleChange}\r\n                className='input-field'\r\n                placeholder='SOFA | BOFA | ROFA'\r\n                required\r\n              />\r\n\r\n              <button\r\n                type='submit'\r\n                className='submit-button'\r\n                disabled={isButtonDisabled}\r\n              >\r\n                APPLY NOW\r\n              </button>\r\n            </form>\r\n          </div>\r\n          <div className={styles.infoSection}>\r\n            <div className={styles.infoBlock}>\r\n              <h3 className='heading'>SOFA - Sons of Anarchy</h3>\r\n              <hr className='hr' />\r\n              <p className='text-smaller'> Master gear +10</p>\r\n              <br />\r\n              <p className='text-smaller'> CW activity 3/4 with exceptions</p>\r\n              <br />\r\n              <p className='text-smaller'> Language: English</p>\r\n            </div>\r\n            <div className={styles.infoBlock}>\r\n              <h3 className='heading'>ROFA - Rise of Anarchy</h3>\r\n              <hr className='hr' />\r\n              <p className='text-smaller'> Master gear +10</p>\r\n              <br />\r\n              <p className='text-smaller'> CW activity 3/4 with exceptions</p>\r\n              <br />\r\n              <p className='text-smaller'> Language: English</p>\r\n            </div>\r\n            <div className={styles.infoBlock}>\r\n              <h3 className='heading'>BOFA - Bros of Anarchy</h3>\r\n              <hr className='hr' />\r\n              <p className='text-smaller'> Any gear</p>\r\n              <br />\r\n              <p className='text-smaller'> No requirements for CW activity</p>\r\n              <br />\r\n              <p className='text-smaller'> Language: English</p>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </>\r\n  );\r\n}\r\n"],"names":["ApplyForm","_ref","toastRef","formData","setFormData","useState","characterName","discordUsername","affiliation","cooldown","setCooldown","isButtonDisabled","setIsButtonDisabled","useEffect","lastSubmissionTime","localStorage","getItem","timePassed","Math","floor","Date","now","timer","setInterval","prev","clearInterval","showSecondaryToast","message","current","show","severity","detail","life","handleChange","e","name","value","target","prevState","_jsxs","_Fragment","children","_jsx","style","marginTop","className","marginBottom","styles","gridContainer","formSection","onSubmit","async","preventDefault","concat","embed","title","description","fields","color","timestamp","fetch","method","headers","body","JSON","stringify","embeds","setItem","formContainer","type","onChange","placeholder","required","disabled","infoSection","infoBlock"],"sourceRoot":""}